---
title: 宿舍网络-结尾篇
urlname: dorm-networks-pro-plus
date: '2021-06-27 19:09:34 +0800'
tags: []
categories: []
---

这里是宿舍网络结尾篇，想到什么写什么，基本上都是关于闪讯的内容。

到了这里假设你已经

- 拥有至少一台路由器、软路由
  - 最好装了 openwr
- 完成了闪讯在路由器上的配置

## BE OPEN-开放端口

闪讯成功拨号后会分配到一个公网 IP，只不过是被阉割过的公网 IP，目前的套餐有 20M 的上传宽带，应付基本的场景是没有问题了。目前测试 80，443，8080 等端口被限制无法访问。

至于移动，则会有 IPv6 地址，可以给每个终端都分配到一个 v6 地址
缺点就是

- 你需要随时拥有 IPv6 的地址，例如手机，但是学校的 WiFi 没有 v6 地址。

## NAME YOUR NETWORK-DDNS

这个时候你应该注意到了，每次拨号都会获取一个不同的 IP 地址，也就是说，你的 IP 地址会不可控制的变动。
这个时候 DDNS 就排上用场了。

为此你需要

- 一个域名 (获取方法可氪金、可白嫖)
- 一个 cloudflare 账号 (其它 DNS 解析服务提供商也可以)
- 域名更新服务(这里推荐 [godns](https://github.com/TimothyYe/godns) )
  - 你也可以使用 Docker 运行你的 godns 服务
- 「可选」配置 IP 地址更变的邮件推送

到了这里，你应该完成了 DDNS 的解析，就可以愉快的玩耍了。

开启端口映射的功能在防火墙里面。

### 玩耍场景

- 微软的远程桌面
  - 随时随地的访问你的电脑(远程办公，远程开发)，想一想是不是很激动呢！
- 远程开机
  - 通过 magic package 可以远程唤醒你的电脑呢 (需要主板支持)
- 开放 netdata 端口，查看路由器状态
- 搭建服务等等

## 内网连接

校园 Wi-Fi，iHDU 上网需要进行认证，但是你可以在不进过认证的情况下直接连接到宿舍的闪讯地址，所以闪讯拨号上网还是处于内外的，因此可以直接访问到学校的一些实验室的网络（极客的 NAS 就是此情况）。

# 结语

如果一个宿舍有 5 个闪讯账号，理论上可以跑到千兆的宽度，但是由于 mwan3 的分流效果并不是很理想，比较好的情况下三拨可以达到 600M 的宽度速度。如果不是玩 BT 的其实没必要搞多拨，一个 200M 的宽度足够 5 个人使用了，所以理论上一个宿舍只需要养一个宽带号即可。

本篇主要介绍了宿舍网络的一些事情，主要是闪讯的使用，但是网络可以有很多可以扩展的地方，比如说弄上万兆的局域网，配上一个 NAS，岂不是爽歪歪，接入智能家电，打造智能宿舍。

完
